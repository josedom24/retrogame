<!DOCTYPE html>
<html>

    <head lang="en">

        <!-- DEBUG -->
        <!--<script src="http://10.42.10.128:9090/target/target-script-min.js#WebMSX"></script>-->

        <meta charset="UTF-8">
        <meta name="viewport" content="width = device-width, user-scalable = yes">

        <title>WebMSX</title>
        <meta name="description" content="WebMSX - The online MSX emulator">
        <link rel="icon" type="image/png" sizes="192x192" href="../src/runtime/images/files/logo-icon192.png">

        <meta name="mobile-web-app-capable" content="yes">
        <link rel="manifest" href="manifest.webapp">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon" sizes="512x512" href="../src/runtime/images/files/logo-icon512.png">
        
        <style>
            html, body {
                margin: 0;
                padding: 0;
                background: #f4f4f4;
            }
            @media only screen and (orientation: landscape) and (max-device-width: 767px) {
                #wmsx {
                    max-width: 75%;
                }
            }
        </style>

        <script src="../src/main/room/screen/FullScreenSetup.js"></script>

        <script>
            WMSX_IMAGES_PATH  = "../src/runtime/images/files/";
        </script>

    </head>

    <body>
        <script src="{{url_for('static',filename='/src/main/WMSX.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/FullScreenSetup.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/util/Util.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/util/SHA1.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/util/ZIP.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/util/EmbeddedFiles.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/util/MultiDownloader.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/util/MultiFileReader.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/cpu/CPU.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/ppi/PPI.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/video/ColorCache.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/video/VDP.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/video/VDPCommandProcessor.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/video/V9990.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/video/V9990CommandProcessor.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/video/VideoSignal.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/video/VideoStandard.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/AudioTables.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/PSG.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/AudioSignal.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/PSGAudio.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/PCM8BitAudio.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/SCCIAudio.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/YM2413Tables.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/YM2413Audio.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/OPL4WaveTables.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/OPL4Audio.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/OPL4AudioFM.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/audio/OPL4AudioWave.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/miscdevices/RTC.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/miscdevices/SystemFlags.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/miscdevices/TurboRDevices.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/drivers/ImageCassetteDriver.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/drivers/TurboDriver.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/drivers/BIOSKeyboardExtension.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/drivers/ImageDiskDriver.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/drivers/ImageNextorDeviceDriver.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/rom/ROM.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/rom/ROMDatabase.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotCreator.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotFormats.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/Slot.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotEmpty.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotExpanded.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotExpanded0.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotExpanded3.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotExpandedM.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotNormal.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/SlotPlainROM.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/ram/SlotRAMNormal.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/ram/SlotRAMMapper.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/bios/SlotBIOS.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/bios/SlotMSX2BIOSExt.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeASCII8K.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeASCII16K.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeKonami.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeRType.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeCrossBlaim.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeDOS2.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeHarryFox.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeAlQuran.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeSuperSwangi.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeZemina80.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeZemina90.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeZemina126.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeSuperLodeRunner.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeDooly.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/CartridgeMegaRAM.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/disk/CartridgeDiskPatched.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/disk/CartridgeDiskPatchedDOS2TR.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/disk/CartridgeNextorPatched.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/scc/CartridgeKonamiSCC.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/scc/CartridgeSCCExpansion.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/scc/CartridgeSCCIExpansion.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/scc/CartridgeManbow2.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/scc/CartridgeKonamiUltimateCollection.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/kanji/CartridgeKanjiFont.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/sram/CartridgePAC.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/msx-music/CartridgeMSXMUSIC.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/msx-music/CartridgeFMPAC.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/moonsound/CartridgeOPL4.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/psg/CartridgeExtraPSG.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/v9990/CartridgeV9990.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/sram/CartridgeGameMaster2.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/sram/CartridgeASCII8KSRAM.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/sram/CartridgeASCII16KSRAM.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/sram/CartridgeHalnote.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/pcm/CartridgeMajutsushi.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/slots/cartridges/special/pcm/CartridgeSynthesizer.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/machine/MachineTypeSocket.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/machine/ExtensionsSocket.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/machine/DeviceMissing.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/machine/SwitchedDevices.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/machine/BUS.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/machine/Machine.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/controls/KeyboardKeys.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/controls/JoystickButtons.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/msx/controls/MachineControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/images/Images.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/userprefs/UserPreferences.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/userprefs/UserROMFormats.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/clock/Clock.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/files/FileLoader.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/files/FileDownloader.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/DOMKeys.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/GamepadButtons.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/TouchControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/BuiltInKeyboards.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/DOMKeyboard.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/GamepadJoysticksControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/DOMJoykeysControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/DOMMouseControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/DOMTouchControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/ControllersHub.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/DOMMachineControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/DOMVirtualKeyboard.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/es6/ScreenGUI.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/virtualkeyboard/VirtualKeyboard.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/Monitor.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/CanvasDisplay.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/es6/SettingsGUI.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/settings/ControlMappingPopup.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/settings/KeyboardConfigurator.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/settings/PortsConfigurator.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/settings/Settings.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/PasteDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/TextEntryDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/SaveStateDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/CartridgeFormatDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/DiskSelectDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/NewHardDiskDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/MachineSelectDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/TouchConfigDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/QuickOptionsDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/screen/dialogs/NetPlayDialog.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/speaker/WebAudioSpeaker.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/savestate/SaveStateMedia.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/savestate/LocalStoragePersistence.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/savestate/IndexedDBPersistence.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/cartridge/FileCartridgeSlot.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/cassette/FileCassetteDeck.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/disk/DiskImages.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/disk/FileDiskDrive.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/PeripheralControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/controls/DOMPeripheralControls.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/netplay/NetServer.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/netplay/NetClient.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/room/Room.js')}}"></script>
        <script src="{{url_for('static',filename='/src/runtime/images/EmbeddedImages.js')}}"></script>
        <script src="{{url_for('static',filename='/src/runtime/sysfiles/CompressedSystemFiles.js')}}"></script>
        <script src="{{url_for('static',filename='/src/runtime/sysfiles/EmbeddedSystemFiles.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/Configurator.js')}}"></script>
        <script src="{{url_for('static',filename='/src/main/Launcher.js')}}"></script>
      <script src="Test.js"></script>

        <div id="wmsx" style="text-align: center; margin: 0 auto; padding: 24px 6px;">
            <div id="wmsx-screen" style="box-shadow: 2px 2px 10px rgba(0, 0, 0, .7);"></div>
        </div>

        <script>

            WMSX.AUTO_POWER_ON_DELAY = 0;
            {%if tipo=="rom"%}
            WMSX.CARTRIDGE1_URL = "{{url_for('static',filename=game.files.0)}}";
            {%endif%}
            {%if tipo=="dsk"%}
            WMSX.DISKA_URL = "{{url_for('static',filename=game.files.0)}}";
            {%endif%}
            {%if tipo=="cas"%}
            WMSX.TAPE_URL = "{{url_for('static',filename=game.files.0)}}";
            {%endif%}
            // WMSX.Z80_CLOCK_MODE = 5;

            // WMSX.RAMMAPPER_SIZE = 256;

        </script>

    </body>

</html>


